import openai
import requests
import json

def generate_image(prompt):
    openai.api_key = os.environ["OPENAI_API_KEY"]
    model = "image-alpha-001"
    data = json.dumps({
        "model": model,
        "prompt": prompt,
        "num_images": 1,
        "size": "256x256",
    })
    response = requests.post("https://api.openai.com/v1/images/generations", data=data)
    response_json = json.loads(response.text)
    return response_json["data"][0]["url"]
